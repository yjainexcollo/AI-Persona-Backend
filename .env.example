# Server Configuration
PORT=3000
NODE_ENV=production

# Database Configuration
# NEW Supabase Postgres (primary database)
# Use "Transaction" pooler for migrations (port 5432)
# Use "Session" pooler for Prisma runtime (port 6543) - optional
DATABASE_URL="postgresql://postgres.xxxxxxxxxxxx:password@aws-0-region.pooler.supabase.com:5432/postgres?sslmode=require"

# OLD Database (for migration only)
# Only required when running persona migration script: npm run migrate:personas
# Remove after successful migration
# OLD_DATABASE_URL="postgresql://user:password@old-host:5432/old-database"

# Supabase Connection Notes:
# - Always include sslmode=require for Supabase
# - Transaction pooler (port 5432): Use for migrations and one-off scripts
# - Session pooler (port 6543): Use for long-running connections (optional)
# - Direct connection: Available but not recommended for serverless

# Authentication
JWT_SECRET="your-super-secret-jwt-key"
SESSION_SECRET="your-session-secret"
BCRYPT_SALT_ROUNDS=12
JWT_EXPIRES_IN=1d
JWT_REFRESH_EXPIRES_IN=7d

# CORS Configuration
# Set to your frontend URL (production)
CORS_ORIGIN=https://ai-persona-frontend-ashy.vercel.app

# URLs Configuration
# Backend URL - used in email links for verification, password reset, etc.
APP_BASE_URL=https://ai-persona-backend-828912814307.asia-southeast1.run.app
# Frontend URL - used for redirects
FRONTEND_URL=https://ai-persona-frontend-ashy.vercel.app

# OAuth Configuration
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
OAUTH_CALLBACK_URL="https://your-backend-url/api/auth/google/callback"
MICROSOFT_CLIENT_ID="your-microsoft-client-id"
MICROSOFT_CLIENT_SECRET="your-microsoft-client-secret"
MICROSOFT_CALLBACK_URL="https://your-backend-url/api/auth/microsoft/callback"

# Email Configuration
# Provider: 'brevo' (recommended), 'smtp' (legacy), or 'console' (dev only)
EMAIL_PROVIDER=brevo

# Brevo Configuration (recommended for production)
BREVO_API_KEY=your-brevo-api-key-here
EMAIL_FROM=verified-sender@yourdomain.com
EMAIL_FROM_NAME="AI Persona"

# SMTP Configuration (optional, for backward compatibility)
# Only required if EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@yourdomain.com

# Email Verification (optional)
SKIP_EMAIL_VERIFICATION=false

# Redis (optional)
REDIS_URL="redis://localhost:6379"

# Persona Configuration
ENCRYPTION_KEY="your-32-byte-encryption-key-here"
WEBHOOK_SECRET="your-webhook-secret-key-here"

# Logging
LOG_LEVEL="info"
